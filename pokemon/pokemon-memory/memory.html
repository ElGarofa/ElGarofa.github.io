<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pok√©mon Memory</title>
  <link rel="stylesheet" href="memory.css">
</head>
<body>
  <h1>üß† Pok√©mon Memory</h1>
  <p>Empareja todas las cartas para ganar.</p>
  <div class="game-board" id="game-board"></div>
  <audio id="bg-music" src="audio/music.mp3" loop autoplay></audio>

  <script>
    const board = document.getElementById("game-board");
    const pokemonList = ['bulbasaur', 'charmander', 'squirtle', 'pikachu', 'meowth', 'psyduck'];
    const cardList = [...pokemonList, ...pokemonList];

    cardList.sort(() => 0.5 - Math.random());

    cardList.forEach(name => {
      const card = document.createElement("div");
      card.classList.add("card");
      card.dataset.name = name;

      card.innerHTML = `
        <div class="card-inner">
          <div class="card-front"></div>
          <div class="card-back">
            <img src="https://play.pokemonshowdown.com/sprites/ani/${name}.gif" alt="${name}">
          </div>
        </div>
      `;

      board.appendChild(card);
    });

    let flippedCards = [];
    let lockBoard = false;

    board.addEventListener("click", e => {
      const card = e.target.closest(".card");
      if (!card || lockBoard || card.classList.contains("flipped")) return;

      card.classList.add("flipped");
      flippedCards.push(card);

      if (flippedCards.length === 2) {
        const [c1, c2] = flippedCards;
        if (c1.dataset.name === c2.dataset.name) {
          flippedCards = [];
        } else {
          lockBoard = true;
          setTimeout(() => {
            c1.classList.remove("flipped");
            c2.classList.remove("flipped");
            flippedCards = [];
            lockBoard = false;
          }, 1000);
        }
      }
    });
  </script>
</body>
</html>
