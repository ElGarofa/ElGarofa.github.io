<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>E&M Bebidas y Hielo | Tienda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="css/custom.css">

  <!-- Favicon -->
  <link rel="icon" href="img/ChatGPT Image 2 feb 2026, 02_01_46 p.m..png">
</head>

<body class="bg-dark text-light">

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-black shadow">
  <div class="container">
    <a class="navbar-brand fw-bold d-flex align-items-center" href="index.html">
      <img src="img/ChatGPT Image 2 feb 2026, 02_01_46 p.m..png" alt="E&M" width="40" class="me-2">
      E&M Bebidas y Hielo
    </a>
  </div>
</nav>

<!-- CONTENIDO -->
<div class="container my-4">

  <div id="estado-negocio" class="text-center fw-bold mb-3"></div>

  <!-- PRODUCTOS -->
  <h2 class="mb-3">ğŸ§ƒ Productos</h2>
  <div class="row" id="productos"></div>

  <!-- COMBOS -->
  <h2 class="mt-5 mb-3">ğŸ”¥ Combos</h2>
  <button class="btn btn-warning w-100 mb-2" onclick="agregarCombo(101)">
    ğŸ» Combo Previa â€“ $4500
  </button>
  <button class="btn btn-warning w-100" onclick="agregarCombo(102)">
    ğŸº Combo Birra â€“ $6000
  </button>

  <!-- CARRITO -->
  <h2 class="mt-5 mb-3">ğŸ›’ Carrito</h2>

  <select id="zona" class="form-select mb-2" onchange="actualizarMinimo()">
    <option value="A">Zona A â€“ sin mÃ­nimo</option>
    <option value="B">Zona B â€“ mÃ­nimo $5000</option>
  </select>

  <p id="minimo" class="text-warning small"></p>

  <div id="carrito" class="bg-black p-3 rounded mb-2"></div>

  <h4>Total: $<span id="total">0</span></h4>

  <button class="btn btn-success w-100 mt-3 fw-bold" onclick="enviarPedidoWhatsApp()">
    ğŸ“² Enviar pedido por WhatsApp
  </button>

</div>

<!-- FOOTER -->
<footer class="bg-black text-center text-secondary py-3 mt-5">
  Â© 2026 E&M Bebidas y Hielo
</footer>

<!-- SCRIPTS -->
<script src="js/productos.js"></script>
<script src="js/carrito.js"></script>

<script>
  // Render productos
  const contProductos = document.getElementById("productos");

  productosGlobal.forEach(p => {
    contProductos.innerHTML += `
      <div class="col-md-4 col-lg-3 mb-4">
        <div class="card bg-black text-light h-100 producto-card">
          <img src="${p.imagen}" class="card-img-top producto-img" alt="${p.nombre}">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-info">${p.nombre}</h5>
            <p class="fw-bold">$${p.precio}</p>
            <button class="btn btn-outline-success mt-auto"
              onclick="agregarProducto(${p.id})">
              Agregar al carrito
            </button>
          </div>
        </div>
      </div>
    `;
  });

  // Horario
  const apertura = 18;
  const cierre = 24;

  function estadoNegocio() {
    const ahora = new Date().getHours();
    const estado = document.getElementById("estado-negocio");

    if (ahora >= apertura && ahora < cierre) {
      estado.innerHTML = "ğŸŸ¢ Abierto ahora";
      estado.className = "text-success fw-bold";
    } else {
      estado.innerHTML = "ğŸ”´ Cerrado â€“ abrimos a las 18 hs";
      estado.className = "text-danger fw-bold";
    }
  }

  estadoNegocio();

  function actualizarMinimo() {
    const zona = document.getElementById("zona").value;
    const minimo = document.getElementById("minimo");
    minimo.innerText = zona === "B" ? "Pedido mÃ­nimo: $5000" : "";
  }

  // Service Worker
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
  }
</script>

</body>
</html>
